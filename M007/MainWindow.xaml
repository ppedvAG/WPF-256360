<Window x:Class="M007.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:M007"
        Title="MainWindow" Height="450" Width="300"
		WindowStartupLocation="CenterScreen" Topmost="True"
		DataContext="{Binding RelativeSource={RelativeSource Self}}">
	<Window.Resources>
		<Style TargetType="Button">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border BorderBrush="Black" BorderThickness="2" CornerRadius="5">
							<!--TemplateBinding-->
							<!--Setzt Werte, die bei der Komponente gesetzt wurden, in das Template ein-->
							<TextBlock Text="{TemplateBinding Content}"
							   Background="{TemplateBinding Background}"
							   Foreground="{TemplateBinding Foreground}"
							   FontSize="{TemplateBinding FontSize}"
							   TextAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!--Globales DataTemplate-->
		<!--WICHTIG: Muss mit x:Type definiert werden-->
		<DataTemplate DataType="{x:Type local:Fahrzeug}">
			<StackPanel Orientation="Horizontal">
				<TextBlock Text="{Binding MaxV, StringFormat='\{0}km/h'}"/>
				<TextBlock Text="{Binding Marke, StringFormat=' {0}'}"/>
			</StackPanel>
		</DataTemplate>

		<local:MarkeToPathConverter x:Key="MPC"/>
	</Window.Resources>
    <StackPanel Margin="10">
		<!--ControlTemplate-->
		<!--Aufbau einer Komponente komplett neu definieren-->
		<!--Benötigt TemplateBinding-->
		<Button Content="Hallo Welt" Background="Aqua" Foreground="Black" FontSize="30">
			<Button.Template>
				<!--WICHTIG: TargetType angeben-->
				<ControlTemplate TargetType="Button">
					<Border BorderBrush="Black" BorderThickness="2" CornerRadius="5">
						<!--TemplateBinding-->
						<!--Setzt Werte, die bei der Komponente gesetzt wurden, in das Template ein-->
						<TextBlock Text="{TemplateBinding Content}"
								   Background="{TemplateBinding Background}"
								   Foreground="{TemplateBinding Foreground}"
								   FontSize="{TemplateBinding FontSize}"
								   TextAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Button.Template>
		</Button>

		<!--Button Template per Resource-->
		<Button Content="Hallo"/>
		
		<!--..............................................-->
		
		<!--DataTemplate-->
		<!--Darstellung von Daten innerhalb von Listenkomponenten anpassen-->
		<ListBox ItemsSource="{Binding Fahrzeuge}">
			<ListBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="{Binding MaxV, StringFormat='\{0}km/h'}"/>
						<TextBlock Text="{Binding Marke, StringFormat=' {0}'}"/>
					</StackPanel>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
		
		<!--Globale DataTemplates-->
		<ComboBox ItemsSource="{Binding Fahrzeuge}"/>

		<ListBox ItemsSource="{Binding Fahrzeuge}">
			<ListBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal">
						<Image Source="C:\Users\lk3\source\repos\WPF_2026_02_09\M007\Images\velocity.png" Width="20" Height="20"/>
						<TextBlock Text="{Binding MaxV, StringFormat=' {0}km/h  '}" VerticalAlignment="Center"/>
						<Image Source="{Binding Marke, Converter={StaticResource MPC}}" Width="20" Height="20"/>
						<Button Content="Fahrzeug löschen" Click="Button_Click"/>
					</StackPanel>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
		
		<!--ItemsPanelTemplate-->
		<!--Container einer Listenkomponente ändern-->
		<ComboBox ItemsSource="{Binding Fahrzeuge}">
			<ComboBox.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Columns="3"/>
				</ItemsPanelTemplate>
			</ComboBox.ItemsPanel>
		</ComboBox>
	</StackPanel>
</Window>
