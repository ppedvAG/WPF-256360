<Window x:Class="M004.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:local="clr-namespace:M004"
        Title="MainWindow" Height="450" Width="800"
		WindowStartupLocation="CenterScreen" Topmost="True">
    <StackPanel Margin="10">
		<!--Binding-->
		<!--Verbindung zw. zwei Komponenten-->
		<!--Wenn die eine Komponente sich ändert, ändert sich die andere auch mit-->
		
		<!--Beispiel: Slider + TextBlock-->
		<Slider Minimum="0" Maximum="100" Name="Slider"/>

		<!--WICHTIG: Bindings werden am Target definiert-->
		<TextBlock>
			<TextBlock.Text>
				<!--ElementName: Name der anderen Komponente-->
				<!--Path: Wert, an den gebunden werden soll-->
				<Binding ElementName="Slider" Path="Value"/>
			</TextBlock.Text>
		</TextBlock>
		
		<!--Kurzform per Markup Extension-->
		<TextBlock Text="{Binding ElementName=Slider, Path=Value}"/>
		
		<!--Binding Mode-->
		<!--Richtung des Bindings-->
		<!--Meistens TwoWay-->
		<Slider Minimum="0" Maximum="100" Name="Slider2"/>
		<TextBox Text="{Binding ElementName=Slider2, Path=Value}"/>
		
		<!--UpdateSourceTrigger-->
		<!--Definiert, wann das Binding ausgeführt wird-->
		<!--LostFocus, PropertyChanged, Explicit-->
		<Slider Minimum="0" Maximum="100" Name="Slider3"/>
		<TextBox Text="{Binding ElementName=Slider3, Path=Value, UpdateSourceTrigger=Explicit}" Name="TB"/>
		<Button Content="Update Binding" Click="Button_Click"/>
		
		<!--StringFormat-->
		<!--Wert des Bindings optisch verändern-->
		<!--WICHTIG: Einzelne Hochkomma verwenden, {0}: Wert des Bindings (double), F2: auf zwei Kommastellen abschneiden-->
		<!--Wenn das StringFormat mit {0} beginnen soll, muss ein \ am Anfang definiert werden-->
		<Slider Minimum="0" Maximum="100" Name="Slider4"/>
		<TextBox Text="{Binding ElementName=Slider4, Path=Value, StringFormat='Betrag: {0:F2}€'}"/>
		
		<!--Converter-->
		<!--Wert des Bindings, vor Übertrag an das Ziel verändern-->
		<!--Benötigen eine eigene C#-Klasse (siehe ScoreToGradeConverter.cs)-->
		
		<!--Beispiel: Slider zu Schulnoten umwandeln-->
		<Slider Minimum="0" Maximum="100" Name="ScoreSlider"/>
		<TextBlock>
			<TextBlock.Text>
				<Binding ElementName="ScoreSlider" Path="Value">
					<Binding.Converter>
						<local:ScoreToGradeConverter/>
					</Binding.Converter>
				</Binding>
			</TextBlock.Text>
		</TextBlock>
		
		<!--MultiBinding-->
		<!--Binding mit mehreren Quellen und einem Ziel-->
		<!--Benötigt immer einen Converter (IMultiValueConverter)-->
		
		<!--Beispiel: Margin konstruieren aus 4 Slidern-->
		<Slider Minimum="0" Maximum="100" Name="LSlider"/>
		<Slider Minimum="0" Maximum="100" Name="TSlider"/>
		<Slider Minimum="0" Maximum="100" Name="RSlider"/>
		<Slider Minimum="0" Maximum="100" Name="BSlider"/>
		<Button Content="Margin Test">
			<Button.Margin>
				<MultiBinding>
					<MultiBinding.Bindings>
						<Binding ElementName="LSlider" Path="Value"/>
						<Binding ElementName="TSlider" Path="Value"/>
						<Binding ElementName="RSlider" Path="Value"/>
						<Binding ElementName="BSlider" Path="Value"/>
					</MultiBinding.Bindings>

					<MultiBinding.Converter>
						<local:FourValueToMarginConverter/>
					</MultiBinding.Converter>
				</MultiBinding>
			</Button.Margin>
		</Button>
		<Separator/>
	</StackPanel>
</Window>
