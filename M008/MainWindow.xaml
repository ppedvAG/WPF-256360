<Window x:Class="M008.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:sys="clr-namespace:System;assembly=netstandard"
        xmlns:local="clr-namespace:M008"
        Title="MainWindow" Height="450" Width="800"
		WindowStartupLocation="CenterScreen" Topmost="True"
		DataContext="{Binding RelativeSource={RelativeSource Self}}"
		FontSize="14">
    <StackPanel Margin="10">
		<!--MarkupExtension-->
		<!--Alles was zwischen { } steht-->
		<!--Enthält eine Methode namens ProvideValue(), diese Methode gibt einen Wert zurück-->
		<!--Dieser Wert wird an die GUI weitergegeben-->

		<!--ProvideValue() zieht den Wert aus dem Backend heraus, und setzt diesen in ItemsSource ein-->
		<ComboBox ItemsSource="{Binding Zahlen}"/>
		
		<!--Beispiel: Enum an ComboBox anbinden-->
		<ComboBox ItemsSource="{Binding Wochentage}"/>
		<ComboBox ItemsSource="{local:Enum EnumType=sys:DayOfWeek}"/>
		
		<!--Beispiel: Zahlenbereich generieren-->
		<ComboBox ItemsSource="{local:Range Start=10, End=50}"/>
		
		<!--Beispiel: Converter erzeugen-->
		<Slider Minimum="0" Maximum="100" Name="ScoreSlider"/>
		<TextBlock Text="{Binding ElementName=ScoreSlider, Path=Value, Converter={local:Converter ConverterType=local:ScoreToGradeConverter}}"/>
	
		<!--Beispiel: Template Übung ohne ObjectDataProvider-->
		<ComboBox ItemsSource="{local:Colors}" SelectedValue="{Binding SelectedColor}" SelectedValuePath="Color">
			<ComboBox.ItemTemplate>
				<DataTemplate DataType="local:NamedColor">
					<StackPanel Orientation="Horizontal">
						<Rectangle Width="20" Height="20" Stroke="Black" StrokeThickness="2" Fill="{Binding Brush}"/>
						<TextBlock Text="{Binding Name, StringFormat=' {0}'}" VerticalAlignment="Center"/>
						<TextBlock Text="{Binding HexCode, StringFormat=' ({0})'}" VerticalAlignment="Center"/>
					</StackPanel>
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>
		<Button Click="Button_Click" Content="Test"/>
		
		<!--.....................................................-->
		
		<!--Self-->
		<Slider Minimum="10" Maximum="100" Name="RectSlider"/>
		<Rectangle Width="{Binding ElementName=RectSlider, Path=Value}"
				   Height="{Binding RelativeSource={RelativeSource Self}, Path=Width}" Fill="Aqua"/>

		<!--TemplatedParent-->
		<!-- -> TemplateBinding-->
		<Button Content="Hallo Welt" Background="Aqua" Foreground="Black" FontSize="30">
			<Button.Template>
				<ControlTemplate TargetType="Button">
					<Border BorderBrush="Black" BorderThickness="2" CornerRadius="5">
						<TextBlock Background="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=Background}"
								   Foreground="{TemplateBinding Foreground}" TextAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Button.Template>
		</Button>
		
		<!--FindAncestor-->
		<Grid Background="LightGreen">
			<Grid Background="Orange">
				<Grid Background="Aqua">
					<TextBlock Background="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorLevel=1, AncestorType=Grid}, Path=Background}"/>
				</Grid>
			</Grid>
		</Grid>
		
		<!--PreviousData-->
		<ListBox ItemsSource="{local:Range Start=0, End=10}">
			<ListBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal">
						<!--{Binding}, {Binding .}: Zeige den Wert selbst an-->
						<TextBlock Text="{Binding}"/>
						<TextBlock Text="{Binding RelativeSource={RelativeSource Mode=PreviousData}}"
								   Foreground="Red"/>
					</StackPanel>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
	</StackPanel>
</Window>
